<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <style>

    </style>
</head>

<body class="clearfix">

   <button>节流</button>
   <button>防抖</button>

    <script type="text/javascript">
        function throttle(callback,timeout){
            let pre = 0;
            console.error('out',event)
            return function(event){
                console.error('in',event,2222,this)
                const current = Date.now()
                if(current-pre>timeout){
                    callback.call(this,event)
                    pre=current
                }
            }
        }
        function debounce(callback,timeout){
            
            return function(event){
                if(callback.timerid){
                    clearTimeout(callback.timerid)
                }
                callback.timerid=setTimeout(function(){
                    callback.call(this,event)
                    delete callback.timerid
                },timeout)
                    
                 
            }
        }
        function handleclick(event){
            console.log(111,this,event)
        }
        document.getElementsByTagName('button')[0].onclick=throttle(handleclick,2000)
        document.getElementsByTagName('button')[1].onclick = debounce(handleclick,2000)

    </script>

</body>

</html>